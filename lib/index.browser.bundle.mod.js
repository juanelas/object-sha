async function digest(obj,algorithm="SHA-256"){const algorithms=["SHA-1","SHA-256","SHA-384","SHA-512"];if(!algorithms.includes(algorithm))throw new RangeError(`Valid hash algorith values are any of ${JSON.stringify(algorithms)}`);const hash_input=(new TextEncoder).encode(JSON.stringify(function(obj){const keys=Object.keys(obj);keys.sort();const arr=[];for(const key of keys)arr.push(obj[key]);return arr}(obj))).buffer;let digest="";{const buf=await crypto.subtle.digest(algorithm,hash_input),h="0123456789abcdef";new Uint8Array(buf).forEach(v=>{digest+=h[v>>4]+h[15&v]})}return digest}export{digest};
